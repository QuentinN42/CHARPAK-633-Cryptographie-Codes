#include <stdio.h>

int pos;
int gears[3][256] = {
        {106,33,209,10,109,78,45,233,203,214,37,93,114,165,197,127,14,182,58,128,194,15,241,245,162,153,96,220,140,250,227,20,208,92,21,3,196,207,57,121,50,115,221,25,5,74,102,36,63,252,190,138,249,61,9,224,120,89,231,80,236,19,51,24,167,133,87,201,23,122,123,141,13,191,31,81,85,2,200,60,8,177,222,189,82,212,132,28,247,4,79,75,6,172,170,204,49,218,136,232,94,105,217,234,35,108,169,119,195,176,38,150,147,161,103,107,206,145,193,244,237,97,157,56,41,240,173,84,90,22,112,148,86,210,76,159,27,238,198,211,67,151,239,69,53,73,251,113,253,116,71,255,48,42,104,110,168,11,126,205,39,47,68,235,17,88,188,149,55,142,44,43,52,1,202,54,184,139,146,215,246,242,137,154,65,171,64,111,40,228,166,12,254,34,185,223,129,29,230,101,16,164,18,95,248,152,46,229,158,243,66,0,175,98,7,183,100,91,181,117,187,130,144,163,180,192,186,213,62,155,156,135,26,219,125,72,131,179,124,118,178,143,59,134,199,160,225,99,77,83,32,30,226,70,174,216},
        {130,110,242,232,192,222,171,75,147,120,85,159,58,132,190,24,237,200,59,100,20,52,210,19,167,223,253,74,173,55,250,234,219,102,46,207,1,128,28,64,107,2,195,104,45,186,114,98,141,240,241,153,208,23,49,166,43,151,17,198,65,188,42,187,106,10,148,230,176,80,0,47,30,181,84,149,131,40,66,118,11,37,179,228,254,26,112,4,160,14,122,137,238,236,36,116,7,95,134,87,174,97,152,76,233,229,57,78,53,108,35,88,204,252,143,251,209,191,156,154,33,201,117,34,123,150,119,39,105,3,182,18,22,133,113,81,48,12,111,180,221,163,212,72,177,79,235,202,38,29,168,215,67,246,203,6,73,142,216,165,247,184,109,199,83,135,50,15,145,197,243,239,140,32,217,144,183,249,96,138,25,245,82,164,61,8,178,136,214,70,194,206,169,139,170,27,91,68,77,90,129,231,86,62,9,227,71,115,99,121,63,157,211,224,124,93,162,60,31,175,16,13,255,56,89,205,218,101,126,127,44,172,213,5,193,161,51,21,220,189,155,244,196,158,69,185,125,248,103,54,94,41,226,225,92,146},
        {204,44,252,126,239,80,99,0,41,169,37,115,189,158,9,156,114,199,220,17,47,33,72,97,19,101,166,26,81,184,14,102,109,251,5,18,213,202,180,16,227,150,235,217,154,224,133,20,58,242,57,182,234,211,196,30,88,122,76,247,78,100,134,83,77,91,241,23,67,255,61,69,42,43,34,231,70,116,192,13,188,52,248,55,230,51,147,145,125,93,74,36,236,141,161,82,226,98,159,10,48,35,246,143,144,32,1,11,96,2,238,137,118,222,163,89,181,244,148,45,38,127,46,174,22,193,112,56,249,225,8,254,135,62,223,123,24,39,120,208,86,113,29,173,59,95,124,15,110,28,54,210,131,53,119,152,228,12,176,84,130,194,167,157,107,151,203,73,200,177,139,149,4,71,7,155,138,146,168,66,160,205,170,171,140,187,179,207,117,240,75,191,218,90,164,85,175,60,185,245,197,212,142,50,183,21,106,165,195,232,63,190,250,92,215,132,172,108,178,68,219,243,253,129,128,221,162,65,103,3,153,105,111,40,64,233,87,27,216,94,237,209,206,214,79,31,25,198,229,136,186,49,201,6,104,121}
};

int keys[3] = {0,0,0};
int txt[] = {185, 183, 38, 100, 59, 37, 72};
int dec[] = {0, 0, 0, 0, 0, 0, 0};
int res;

int main()
{
    for(unsigned long int k = 0; k < 16777216; k++)
    {
        keys[0] = k % 256;
        keys[1] = (k / 256)/ 256;
        keys[2] = (k / 256) % 256;
        for (int i = 0; i < 7; i++)
        {
            pos = txt[i];
            for (int j = 2; j >= 0; j--)
            {
                pos = (gears[j][(pos + keys[j] + 256) % 256] - keys[j] + 256) % 256;
            }
            // ROTATE
            keys[0] += 1;
            if (keys[0] == 256)
            {
                keys[0] = 0;
                keys[1] += 1;
                if (keys[1] == 256)
                {
                    keys[1] = 0;
                    keys[2] += 1;
                    if (keys[2] == 256)
                    {
                        keys[2] = 0;
                    }
                }
            }
            dec[i] = pos;
        }
        res = 0;
        for (int i = 0; i < 7; i++)
        {
            if ((74 == dec[i]) && (111 == dec[i + 1]) && (235 == dec[i + 2]) && (108 == dec[i + 3]))
            {
                res = 1;
            }
        }
        if (res == 1)
        {
            printf("[%d, %d, %d],", keys[0], keys[1], keys[2]);
        }
    }
}
